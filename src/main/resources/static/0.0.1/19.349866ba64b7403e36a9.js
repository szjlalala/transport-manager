webpackJsonp([19],{1404:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1495),i=a(l),r=n(1443),o=a(r),d=n(569),u=a(d),s=n(164),f=a(s),c=n(4),p=a(c),h=n(8),v=a(h),y=n(6),m=a(y),g=n(7),b=a(g);n(1496),n(1444),n(570);var w=n(1),O=a(w),_=n(2815),P=a(_),M=n(83),E=function(e){function t(e){(0,p.default)(this,t);var n=(0,m.default)(this,(t.__proto__||(0,f.default)(t)).call(this,e));return n.state={vehicles:[],total:0},n}return(0,b.default)(t,e),(0,v.default)(t,[{key:"fetch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.promise=(0,M.request)({page:t,url:M.config.api.locationList}).then(function(t){var n=t.data,a=t.total;e.setState({vehicles:n,total:a})})}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return O.default.createElement(i.default,{key:"car-distribution",style:{width:"100%"},title:"\u8f66\u8f86\u5217\u8868",bordered:!1},O.default.createElement(P.default,{vehicles:this.state.vehicles}),O.default.createElement(o.default,{type:"flex",justify:"center",align:"middle",style:{marginTop:20}},O.default.createElement(u.default,{defaultCurrent:1,total:this.state.total,onChange:this.fetch.bind(this)})),O.default.createElement(o.default,null))}}]),t}(w.Component);t.default=E,e.exports=t.default},1436:function(e,t){},1443:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1446);t.default=a.Row,e.exports=t.default},1444:function(e,t,n){"use strict";n(34),n(1436)},1446:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Col=t.Row=void 0;var l=n(1451),i=a(l),r=n(1452),o=a(r);t.Row=i.default,t.Col=o.default},1451:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(3),i=a(l),r=n(15),o=a(r),d=n(4),u=a(d),s=n(8),f=a(s),c=n(6),p=a(c),h=n(7),v=a(h),y=n(1),m=a(y),g=n(9),b=a(g),w=n(2),O=a(w),_=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&(n[a[l]]=e[a[l]]);return n},P=function(e){function t(){return(0,u.default)(this,t),(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,v.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.type,a=t.justify,l=t.align,r=t.className,d=t.gutter,u=t.style,s=t.children,f=t.prefixCls,c=void 0===f?"ant-row":f,p=_(t,["type","justify","align","className","gutter","style","children","prefixCls"]),h=(0,b.default)((e={},(0,o.default)(e,c,!n),(0,o.default)(e,c+"-"+n,n),(0,o.default)(e,c+"-"+n+"-"+a,n&&a),(0,o.default)(e,c+"-"+n+"-"+l,n&&l),e),r),v=d>0?(0,i.default)({marginLeft:d/-2,marginRight:d/-2},u):u,g=y.Children.map(s,function(e){return e?e.props&&d>0?(0,y.cloneElement)(e,{style:(0,i.default)({paddingLeft:d/2,paddingRight:d/2},e.props.style)}):e:null});return m.default.createElement("div",(0,i.default)({},p,{className:h,style:v}),g)}}]),t}(m.default.Component);t.default=P,P.defaultProps={gutter:0},P.propTypes={type:O.default.string,align:O.default.string,justify:O.default.string,className:O.default.string,children:O.default.node,gutter:O.default.number,prefixCls:O.default.string},e.exports=t.default},1452:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(15),i=a(l),r=n(3),o=a(r),d=n(73),u=a(d),s=n(4),f=a(s),c=n(8),p=a(c),h=n(6),v=a(h),y=n(7),m=a(y),g=n(1),b=a(g),w=n(2),O=a(w),_=n(9),P=a(_),M=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&(n[a[l]]=e[a[l]]);return n},E=O.default.oneOfType([O.default.string,O.default.number]),k=O.default.oneOfType([O.default.object,O.default.number]),x=function(e){function t(){return(0,f.default)(this,t),(0,v.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.span,a=t.order,l=t.offset,r=t.push,d=t.pull,s=t.className,f=t.children,c=t.prefixCls,p=void 0===c?"ant-col":c,h=M(t,["span","order","offset","push","pull","className","children","prefixCls"]),v={};["xs","sm","md","lg","xl"].forEach(function(e){var n,a={};"number"==typeof t[e]?a.span=t[e]:"object"===(0,u.default)(t[e])&&(a=t[e]||{}),delete h[e],v=(0,o.default)({},v,(n={},(0,i.default)(n,p+"-"+e+"-"+a.span,void 0!==a.span),(0,i.default)(n,p+"-"+e+"-order-"+a.order,a.order||0===a.order),(0,i.default)(n,p+"-"+e+"-offset-"+a.offset,a.offset||0===a.offset),(0,i.default)(n,p+"-"+e+"-push-"+a.push,a.push||0===a.push),(0,i.default)(n,p+"-"+e+"-pull-"+a.pull,a.pull||0===a.pull),n))});var y=(0,P.default)((e={},(0,i.default)(e,p+"-"+n,void 0!==n),(0,i.default)(e,p+"-order-"+a,a),(0,i.default)(e,p+"-offset-"+l,l),(0,i.default)(e,p+"-push-"+r,r),(0,i.default)(e,p+"-pull-"+d,d),e),s,v);return b.default.createElement("div",(0,o.default)({},h,{className:y}),f)}}]),t}(b.default.Component);t.default=x,x.propTypes={span:E,order:E,offset:E,push:E,pull:E,className:O.default.string,children:O.default.node,xs:k,sm:k,md:k,lg:k,xl:k},e.exports=t.default},1495:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(3),i=a(l),r=n(15),o=a(r),d=n(4),u=a(d),s=n(8),f=a(s),c=n(6),p=a(c),h=n(7),v=a(h),y=n(73),m=a(y),g=n(1),b=a(g),w=n(9),O=a(w),_=n(216),P=a(_),M=n(1603),E=a(M),k=n(1604),x=function(e,t,n,a){var l,i=arguments.length,r=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"===("undefined"==typeof Reflect?"undefined":(0,m.default)(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,a);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(r=(i<3?l(r):i>3?l(t,n,r):l(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r},j=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&(n[a[l]]=e[a[l]]);return n},C=function(e){function t(){(0,u.default)(this,t);var e=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={widerPadding:!1},e.saveRef=function(t){e.container=t},e}return(0,v.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){this.updateWiderPadding(),this.resizeEvent=(0,P.default)(window,"resize",this.updateWiderPadding)}},{key:"componentWillUnmount",value:function(){this.resizeEvent&&this.resizeEvent.remove(),this.updateWiderPadding.cancel()}},{key:"updateWiderPadding",value:function(){var e=this;if(this.container){this.container.offsetWidth>=936&&!this.state.widerPadding&&this.setState({widerPadding:!0},function(){e.updateWiderPaddingCalled=!0}),this.container.offsetWidth<936&&this.state.widerPadding&&this.setState({widerPadding:!1},function(){e.updateWiderPaddingCalled=!0})}}},{key:"isContainGrid",value:function(){var e=void 0;return g.Children.forEach(this.props.children,function(t){t&&t.type&&t.type===E.default&&(e=!0)}),e}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,a=void 0===n?"ant-card":n,l=t.className,r=t.extra,d=t.bodyStyle,u=t.noHovering,s=t.title,f=t.loading,c=t.bordered,p=void 0===c||c,h=j(t,["prefixCls","className","extra","bodyStyle","noHovering","title","loading","bordered"]),v=this.props.children,y=(0,O.default)(a,l,(e={},(0,o.default)(e,a+"-loading",f),(0,o.default)(e,a+"-bordered",p),(0,o.default)(e,a+"-no-hovering",u),(0,o.default)(e,a+"-wider-padding",this.state.widerPadding),(0,o.default)(e,a+"-padding-transition",this.updateWiderPaddingCalled),(0,o.default)(e,a+"-contain-grid",this.isContainGrid()),e));f&&(v=b.default.createElement("div",{className:a+"-loading-content"},b.default.createElement("p",{className:a+"-loading-block",style:{width:"94%"}}),b.default.createElement("p",null,b.default.createElement("span",{className:a+"-loading-block",style:{width:"28%"}}),b.default.createElement("span",{className:a+"-loading-block",style:{width:"62%"}})),b.default.createElement("p",null,b.default.createElement("span",{className:a+"-loading-block",style:{width:"22%"}}),b.default.createElement("span",{className:a+"-loading-block",style:{width:"66%"}})),b.default.createElement("p",null,b.default.createElement("span",{className:a+"-loading-block",style:{width:"56%"}}),b.default.createElement("span",{className:a+"-loading-block",style:{width:"39%"}})),b.default.createElement("p",null,b.default.createElement("span",{className:a+"-loading-block",style:{width:"21%"}}),b.default.createElement("span",{className:a+"-loading-block",style:{width:"15%"}}),b.default.createElement("span",{className:a+"-loading-block",style:{width:"40%"}}))));var m=void 0;return(s||r)&&(m=b.default.createElement("div",{className:a+"-head"},s?b.default.createElement("div",{className:a+"-head-title"},s):null,r?b.default.createElement("div",{className:a+"-extra"},r):null)),b.default.createElement("div",(0,i.default)({},h,{className:y,ref:this.saveRef}),m,b.default.createElement("div",{className:a+"-body",style:d},v))}}]),t}(g.Component);t.default=C,C.Grid=E.default,x([(0,k.throttleByAnimationFrameDecorator)()],C.prototype,"updateWiderPadding",null),e.exports=t.default},1496:function(e,t,n){"use strict";n(34),n(1605)},1603:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(3),i=a(l),r=n(1),o=a(r),d=n(9),u=a(d),s=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&(n[a[l]]=e[a[l]]);return n};t.default=function(e){var t=e.prefixCls,n=void 0===t?"ant-card":t,a=e.className,l=s(e,["prefixCls","className"]),r=(0,u.default)(n+"-grid",a);return o.default.createElement("div",(0,i.default)({},l,{className:r}))},e.exports=t.default},1604:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=void 0,n=function(n){return function(){t=null,e.apply(void 0,(0,o.default)(n))}},a=function(){for(var e=arguments.length,a=Array(e),l=0;l<e;l++)a[l]=arguments[l];null==t&&(t=s(n(a)))};return a.cancel=function(){return(0,d.cancelRequestAnimationFrame)(t)},a}function i(){return function(e,t,n){var a=n.value,i=!1;return{configurable:!0,get:function(){if(i||this===e.prototype||this.hasOwnProperty(t))return a;var n=l(a.bind(this));return i=!0,Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),i=!1,n}}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(75),o=a(r);t.default=l,t.throttleByAnimationFrameDecorator=i;var d=n(336),u=a(d),s=(0,u.default)()},1605:function(e,t){},2815:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(164),i=a(l),r=n(4),o=a(r),d=n(8),u=a(d),s=n(6),f=a(s),c=n(7),p=a(c),h=n(1),v=a(h),y=n(83),m=function(e){function t(e){(0,o.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));n.props.value;return n.state={locationList:[],loading:!0},n}return(0,p.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.map.clearOverlays(),this.routingAndVehicleLocation(e)}},{key:"getOptions",value:function(){return["minZoom","maxZoom","mapType","enableMapClick"]}},{key:"assignTo",value:function(e,t,n){this.props.distributProps.assignTo(e,t,n)}},{key:"openInfo",value:function(e,t,n){var a={width:250,enableMessage:!0};window.assignTo=this.assignTo.bind(this);var l=t.target,i=new BMap.Point(l.getPosition().lng,l.getPosition().lat),r="<h2>\u8f66\u8f86\u8be6\u60c5</h4><div>\u8f66\u724c\u53f7\u7801\uff1a"+e.number+"</div><div>\u8f66\u578b\uff1a"+e.brand+"-"+e.type+"</div><div>\u5269\u4f59\u7a7a\u95f4\uff1a"+e.occupy+"\u7acb\u65b9\u7c73</div>\n                    <div>\u53f8\u673a\uff1a"+e.driver.name+"</div><div>\u53f8\u673a\u624b\u673a\uff1a"+e.driver.phone+"</div>\n                    <div style='width:100%; text-align:center'>\n                        <input type='button' style='margin:10px; padding:10px; cursor:pointer;font-color:white' value='\u67e5\u770b\u8f66\u8f86\u76d1\u63a7' \n                            onclick='window.location=\"/vehicle/"+e.id+"/track\"'>\n                    </div>",o=new BMap.InfoWindow(r,a);n.openInfoWindow(o,i)}},{key:"routingAndVehicleLocation",value:function(e){var t=this;this.promise=(0,y.request)({url:y.config.api.locationList}).then(function(e){e.data.map(function(e,n){var a=new BMap.Marker(new BMap.Point(e.x,e.y),{icon:new BMap.Icon("/truck.png",new BMap.Size(50,50))});a.setLabel(new BMap.Label(e.number,{offset:new BMap.Size(20,-10)})),t.map.addOverlay(a),a.addEventListener("click",function(n){t.openInfo(e,n,t.map)})})})}},{key:"componentDidMount",value:function(){var e=this.options;e=this.getOptions(e),!0!==this.props.enableMapClick&&(e.enableMapClick=!1);var t=new BMap.Map(this.refs.map,e);this.map=t,this.props.mapStyle&&t.setMapStyle(this.props.mapStyle),t.addControl(new BMap.ScaleControl({anchor:BMAP_ANCHOR_TOP_LEFT})),t.addControl(new BMap.NavigationControl),this.map.centerAndZoom(this.props.center||"\u5317\u4eac",9),this.routingAndVehicleLocation(this.props)}},{key:"render",value:function(){return v.default.createElement("div",null,v.default.createElement("div",{ref:"map",className:this.props.className,style:{width:"100%",height:500}}))}}]),t}(h.Component);t.default=m,e.exports=t.default}});